<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Звіти з лабораторних робіт</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>
<header class="site-header">
  <div class="container">
    <div class="header-top">
      <h1>КИЇВСЬКИЙ ПОЛІТЕХНІЧНИЙ ІНСТИТУТ</h1>
      <p class="subject">ЗВІТИ З ПРАКТИЧНИХ РОБІТ</p>
      <p class="discipline">з дисципліни <strong>«Програмування інтернет-застосувань»</strong></p>
      <p class="student">Виконавець: студент групи ІС-44 Бондаренко Ілля Миколайович</p>

      <div class="student-photo-wrapper">
        <span class="student-photo-label">Фото студента</span>
        <img src="img/student.jpg" alt="Фото студента" class="student-photo">
      </div>
    </div>

    <nav class="labs-menu" role="navigation" aria-label="Практичні роботи">
      <a href="#" data-lab="lab1" class="lab-link">Практична робота №1</a>
      <a href="#" data-lab="lab2" class="lab-link">Практична робота №2</a>
      <a href="#" data-lab="lab3" class="lab-link">Практична робота №3</a>
      <a href="#" data-lab="lab4" class="lab-link">Практична робота №4</a>
      <a href="#" data-lab="lab5" class="lab-link">Практична робота №5</a>
      <a href="#" data-lab="lab6-7" class="lab-link">Практична робота №6-7</a>
      <a href="#" data-lab="lab8-9" class="lab-link">Практична робота №8-9</a>
    </nav>
  </div>
</header>

<main class="main container">
  <aside id="sidebar" class="sidebar" aria-label="Пункти практичної">
    <div class="sidebar-empty">Оберіть лабораторну роботу</div>
  </aside>
  <section id="content" class="content" tabindex="0">
    <div class="content-empty">Вміст буде завантажуватись сюди</div>
  </section>
</main>

<script>
const menuItems = {
  "lab1": [
    {file: "lab1/lab-1.1.html", name: "Тема, мета, місце розташування сайту, звіту"},
    {file: "lab1/lab-1.2.html", name: "Опис предметного середовища. Опис бізнес-логіки"},
    {file: "lab1/lab-1.3.html", name: "Структура документа"},
    {file: "lab1/lab-1.4.html", name: "HTML-код таблиць"},
    {file: "lab1/lab-1.5.html", name: "HTML-код форми"},
    {file: "lab1/lab-1.6.html", name: "HTML-код зображення"},
    {file: "lab1/lab-1.7.html", name: "Висновки"}
  ],
  "lab2": [
    {file: "lab2/lab-2.1.html", name: "Опис предметного середовища"},
    {file: "lab2/lab-2.2.html", name: "Тема, мета, місце"},
    {file: "lab2/lab-2.3.html", name: "Висновки"}
  ],
  "lab3": [
    {file: "lab3/lab-3.1.html", name: "Опис предметного середовища"},
    {file: "lab3/lab-3.2.html", name: "Тема, мета, місце"},
    {file: "lab3/lab-3.3.html", name: "Висновки"}
  ],
  "lab4": [
    {file: "lab4/lab-4.1.html", name: "Опис предметного середовища"},
    {file: "lab4/lab-4.2.html", name: "Тема, мета, місце"},
    {file: "lab4/lab-4.3.html", name: "Висновки"}
  ],
  "lab5": [
    {file: "lab5/lab-5.1.html", name: "Опис предметного середовища"},
    {file: "lab5/lab-5.2.html", name: "Тема, мета, місце"},
    {file: "lab5/lab-5.3.html", name: "Висновки"}
  ],
  "lab6-7": [
    {file: "lab6-7/lab-6.1.html", name: "Опис предметного середовища"},
    {file: "lab6-7/lab-6.2.html", name: "Тема, мета, місце"},
    {file: "lab6-7/lab-6.3.html", name: "Висновки"}
  ],
  "lab8-9": [
    {file: "lab8-9/lab-8.1.html", name: "Опис предметного середовища"},
    {file: "lab8-9/lab-8.2.html", name: "Тема, мета, місце"},
    {file: "lab8-9/lab-8.3.html", name: "Висновки"}
  ]
};

const topLinks = document.querySelectorAll(".lab-link");
const sidebar = document.getElementById("sidebar");
const content = document.getElementById("content");
let activeSidebarLink = null;

function clearActiveTop() {
  topLinks.forEach(l => l.classList.remove("active-top"));
}
function clearActiveSidebar() {
  const nodes = sidebar.querySelectorAll("a");
  nodes.forEach(n => n.classList.remove("active-side"));
  activeSidebarLink = null;
}
function buildSidebar(lab) {
  sidebar.innerHTML = "";
  const items = menuItems[lab];
  if (!items) {
    sidebar.innerHTML = "<div class='sidebar-empty'>Матеріали ще не додані</div>";
    content.innerHTML = "<div class='content-empty'>Оберіть пункт</div>";
    return;
  }
  items.forEach(it => {
    const a = document.createElement("a");
    a.href = "#";
    a.textContent = it.name;
    a.dataset.file = it.file;
    a.addEventListener("click", e => {
      e.preventDefault();
      loadContent(it.file);
      clearActiveSidebar();
      a.classList.add("active-side");
      activeSidebarLink = a;
    });
    sidebar.appendChild(a);
  });
  content.innerHTML = "<div class='content-empty'>Оберіть пункт у меню зліва...</div>";
}

function loadContent(path) {
  fetch(path).then(r => {
    if (!r.ok) throw new Error("network");
    return r.text();
  }).then(html => {
    content.innerHTML = html;
    content.focus();
  }).catch(() => {
    content.innerHTML = "<div class='content-error'>Не вдалося завантажити файл</div>";
  });
}

topLinks.forEach(link => {
  link.addEventListener("click", e => {
    e.preventDefault();
    const lab = link.dataset.lab;
    clearActiveTop();
    link.classList.add("active-top");
    buildSidebar(lab);
  });
});

document.addEventListener("DOMContentLoaded", () => {
  const first = document.querySelector('.lab-link[data-lab="lab1"]');
  if (first) {
    first.classList.add("active-top");
    buildSidebar("lab1");
  }
});
</script>
</body>
</html>
